<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <meta name="description" content="Narellazhang.github.io">
        <link rel="stylesheet" type="text/css" media="screen" href="css/base.css">
        <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/page.css">
        <script type="text/javascript" src="scripts/modernizr.custom.09207.js">
</script>
        <title>
            Narellazhang.github.io
        </title>
        <style type="text/css">
img{border-style:none;}
        /*.imgbox{width:530px;margin:100px;height:350px;}*/
        /*.imgbox img{width:530px;height:350px;}*/
        .imgbox ul{list-style-type:none;margin:0px;padding:0px;}
        .imgbox ul li{display:none;}

        .imgbox .title{float:left;width:400px;z-index:2;color:#fcd0ab;text-indent:20px;font-size:18px;line-height:32px;}
        .pager{float:right;width:200px;z-index:3;margin-top: 12px;}
        .decription{position:relative;height:32px;margin-top:5px;}
        
        .pager ul li{float:right;display:block;width:8px;height:8px;margin-right:5px;background-color:#50382b;cursor:pointer;text-indent: -9999px;}
        </style>
    </head>
    <body>
        <div class="wrap">
            <div class="page">
                <div class="title">
                    <h1>
                        home
                    </h1>
                </div>
                <div class="nav">
                    <ul>
                        <li class="icon home_active">
                            <a href="#" title="首页">首页</a>
                        </li>
                        <li class="icon note">
                            <a href="note.html" title="练习">练习</a>
                        </li>
                        <li class="icon music">
                            <a href="music.html" title="音乐">音乐</a>
                        </li>
                        <li class="icon contact">
                            <a href="contact.html" title="联系方式">联系方式</a>
                        </li>
                    </ul>
                </div>
                <div class="content">
                    <div class="imgbox">
                        <ul>
                            <li style="display: block;" title="love coding">
                                <a href="#"><img src="images/pic_keyboard.jpg" alt="键盘"></a>
                            </li>
                            <li title="cherish the time">
                                <a href="#"><img src="images/pic_watch.jpg" alt="手表"></a>
                            </li>
                            <li title="believing in hope">
                                <a href="#"><img src="images/box_01.jpg" alt="纸盒人"></a>
                            </li>
                            <li title="holding the dream">
                                <a href="#"><img src="images/box_02.jpg" alt="纸盒人"></a>
                            </li>
                            <li title="keeping on walking">
                                <a href="#"><img src="images/box_03.jpg" alt="纸盒人"></a>
                            </li>
                        </ul>
                        <div class="decription">

                            <!--图片显示标题-->
                            <div class="title">
                              love coding
                            </div><!--图片序号-->
                            <div class="pager">
                                <ul>
                                    <li>5
                                    </li>
                                    <li>4
                                    </li>
                                    <li>3
                                    </li>
                                    <li>2
                                    </li>
                                    <li style="background: #fcd0ab;">1
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                   
                </div>
            </div>
            <div class="github">
                <a href="#" class="myButton">view in github</a>
            </div>
        </div><script src="scripts/jquery-1.9.1.min.js" type="text/javascript">
</script><script src="scripts/page.js" type="text/javascript">
</script><script type="text/javascript">
$(document).ready(function () {
            (new CenterImgPlay()).Start();
        });
        function CenterImgPlay() {
            this.list = $(".imgbox").children(":first").children();
            this.indexs = [];
            this.length = this.list.length;
            //图片显示时间
            this.timer = 3000;
            this.showTitle = $(".imgbox .title");

            var index = 0, self = this, pre = 0, handid, isPlay = false, isPagerClick = false;

            this.Start = function () {
                this.Init();
                //计时器，用于定时轮播图片
                handid = setInterval(self.Play, this.timer);
            };
            //初始化
            this.Init = function () {
                var o = $(".pager ul li"), _i;

                for (var i = o.length - 1, n = 0; i >= 0; i--, n++) {
                    this.indexs[n] = o.eq(i).click(self.PagerClick);
                }
            };
            this.Play = function () {
                isPlay = true;
                index++;
                if (index == self.length) {
                    index = 0;
                }
                //先淡出，在回调函数中执行下一张淡入
                self.list.eq(pre).fadeOut(300, "linear", function () {
                    var info = self.list.eq(index).fadeIn(500, "linear", function () {
                        isPlay = false;
                        if (isPagerClick) { handid = setInterval(self.Play, self.timer); isPagerClick = false; }
                    }).attr("title");
                    //显示标题
                    self.showTitle.text(info);
                    //图片序号背景更换
                    self.indexs[index].css("background-color", "#fcd0ab");
                    self.indexs[pre].css("background-color", "#50382b");

                    pre = index;
                });
            };
            //图片序号点击
            this.PagerClick = function () {
                if (isPlay) { return; }
                isPagerClick = true;

                clearInterval(handid);

                var oPager = $(this), i = parseInt(oPager.text()) - 1;

                if (i != pre) {
                    index = i - 1;
                    self.Play();
                }
            };
        };
        </script>
    </body>
</html>